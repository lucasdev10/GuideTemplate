<section class="container">
  <header class="content-header">
    <h2>Users {{ eventController }}</h2>
    <button routerLink="/users" class="btn-default">Back</button>
  </header>
  <div class="content">
    <form class="form-content" #formData="ngForm">
      <div class="form-group">
        <label for="name">Name:<span class="input-required">*</span></label>
        <input
          [disabled]="eventController === 'visualize'"
          type="text"
          name="name"
          id="name"
          placeholder="Insert name:"
          [(ngModel)]="userData.name"
          #name="ngModel"
          required
        />
        <app-handlerFormError [control]="name" [label]="'Name'">
        </app-handlerFormError>
      </div>

      <div class="form-group" *ngIf="eventController !== 'edit'">
        <label for="email">Email:</label>
        <input
          type="email"
          name="email"
          id="email"
          placeholder="Insert email:"
          [disabled]="eventController === 'visualize'"
        />
      </div>

      <div class="form-group">
        <label for="password">Password:</label>
        <input
          type="password"
          name="password"
          id="password"
          placeholder="Insert password:"
          [disabled]="eventController === 'visualize'"
        />
      </div>

      <div class="form-group">
        <label for="city">City:</label>
        <select
          name="city"
          id="city"
          [disabled]="eventController === 'visualize'"
        >
          <option *ngFor="let city of cities" [value]="city.id">
            {{ city.title }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label class="label-input-choice">Active?:</label>
        <div class="input-choice">
          <input
            hidden
            type="radio"
            name="radio"
            id="true"
            [disabled]="eventController === 'visualize'"
          />
          <label id="true" for="true">Yes</label>

          <input
            hidden
            type="radio"
            name="radio"
            id="false"
            [disabled]="eventController === 'visualize'"
          />
          <label id="false" for="false">No</label>
        </div>
      </div>
    </form>
    <button
      [disabled]="formData.form.status === 'INVALID'"
      *ngIf="eventController === 'register'"
      (click)="handlerUser('post', userData)"
      class="btn-register"
    >
      Register
    </button>

    <div *ngIf="eventController === 'edit'" class="box-buttons">
      <button (click)="handlerUser('update', userData)" class="btn-save">
        Save
      </button>
      <button (click)="handlerUser('delete', userData)" class="btn-delete">
        Delete
      </button>
    </div>
  </div>
</section>
